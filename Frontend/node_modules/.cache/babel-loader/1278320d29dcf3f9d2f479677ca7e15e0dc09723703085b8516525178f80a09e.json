{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Desktop\\\\Blood Bank\\\\Frontend\\\\src\\\\dashboards\\\\BloodBankStaffDashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport DashboardContainer from '../components/DashboardContainer';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst BloodBankStaffDashboard = ({\n  userId\n}) => {\n  _s();\n  var _selectedRequest$hosp;\n  const [requests, setRequests] = useState([]); // Existing requests state\n  const [appointments, setAppointments] = useState([]); // New appointments state\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [selectedRequest, setSelectedRequest] = useState(null);\n  const [assignedUnitIds, setAssignedUnitIds] = useState('');\n  const [actionStatus, setActionStatus] = useState(''); // For request/appointment actions\n\n  const fetchStaffData = async () => {\n    setLoading(true);\n    setError(null);\n    const token = localStorage.getItem('token');\n    if (!token) {\n      setError('Authentication token missing. Please log in.');\n      setLoading(false);\n      return;\n    }\n    try {\n      // Fetch all Blood Requests\n      const requestsResponse = await fetch('http://localhost:5000/api/blood-requests', {\n        headers: {\n          'x-auth-token': token\n        }\n      });\n      if (!requestsResponse.ok) {\n        const errorData = await requestsResponse.json();\n        throw new Error(errorData.msg || 'Failed to fetch blood requests');\n      }\n      const requestsData = await requestsResponse.json();\n      setRequests(requestsData);\n\n      // Fetch all Appointments\n      const appointmentsResponse = await fetch('http://localhost:5000/api/appointments', {\n        headers: {\n          'x-auth-token': token\n        }\n      });\n      if (!appointmentsResponse.ok) {\n        const errorData = await appointmentsResponse.json();\n        throw new Error(errorData.msg || 'Failed to fetch appointments');\n      }\n      const appointmentsData = await appointmentsResponse.json();\n      setAppointments(appointmentsData);\n    } catch (err) {\n      console.error('Error fetching staff data:', err);\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchStaffData();\n  }, [userId]);\n  const handleRequestStatusUpdate = async (requestId, newStatus) => {\n    setActionStatus('Updating request status...');\n    const token = localStorage.getItem('token');\n    try {\n      const response = await fetch(`http://localhost:5000/api/blood-requests/${requestId}/status`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          'x-auth-token': token\n        },\n        body: JSON.stringify({\n          status: newStatus\n        })\n      });\n      if (!response.ok) {\n        const errData = await response.json();\n        throw new Error(errData.msg || 'Failed to update request status');\n      }\n      setActionStatus(`Request status updated to ${newStatus}!`);\n      fetchStaffData(); // Re-fetch all data to update lists\n    } catch (err) {\n      console.error('Error updating request status:', err);\n      setActionStatus(`Error: ${err.message}`);\n    } finally {\n      setTimeout(() => setActionStatus(''), 3000);\n    }\n  };\n  const handleFulfillRequest = async e => {\n    e.preventDefault();\n    setActionStatus('Fulfilling request...');\n    const token = localStorage.getItem('token');\n    if (!selectedRequest || !assignedUnitIds) {\n      setActionStatus('Error: Please select a request and provide unit IDs.');\n      setTimeout(() => setActionStatus(''), 3000);\n      return;\n    }\n    const unitIdsArray = assignedUnitIds.split(',').map(id => id.trim()).filter(id => id);\n    try {\n      const response = await fetch(`http://localhost:5000/api/blood-requests/${selectedRequest._id}/fulfill`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          'x-auth-token': token\n        },\n        body: JSON.stringify({\n          assignedUnitIds: unitIdsArray\n        })\n      });\n      if (!response.ok) {\n        const errData = await response.json();\n        throw new Error(errData.msg || 'Failed to fulfill request');\n      }\n      setActionStatus('Request fulfilled successfully!');\n      setSelectedRequest(null); // Close modal\n      setAssignedUnitIds(''); // Clear input\n      fetchStaffData(); // Re-fetch all data\n    } catch (err) {\n      console.error('Error fulfilling request:', err);\n      setActionStatus(`Error: ${err.message}`);\n    } finally {\n      setTimeout(() => setActionStatus(''), 3000);\n    }\n  };\n  const handleAppointmentStatusUpdate = async (appointmentId, newStatus) => {\n    setActionStatus('Updating appointment status...');\n    const token = localStorage.getItem('token');\n    try {\n      const response = await fetch(`http://localhost:5000/api/appointments/${appointmentId}/status`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          'x-auth-token': token\n        },\n        body: JSON.stringify({\n          status: newStatus\n        })\n      });\n      if (!response.ok) {\n        const errData = await response.json();\n        throw new Error(errData.msg || 'Failed to update appointment status');\n      }\n      setActionStatus(`Appointment status updated to ${newStatus}!`);\n      fetchStaffData(); // Re-fetch all data to update lists\n    } catch (err) {\n      console.error('Error updating appointment status:', err);\n      setActionStatus(`Error: ${err.message}`);\n    } finally {\n      setTimeout(() => setActionStatus(''), 3000);\n    }\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(DashboardContainer, {\n    title: \"Blood Bank Staff Dashboard\",\n    children: /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-center\",\n      children: \"Loading staff data...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 78\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 157,\n    columnNumber: 23\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(DashboardContainer, {\n    title: \"Blood Bank Staff Dashboard\",\n    children: /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-center text-red-500\",\n      children: [\"Error: \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 76\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 158,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(DashboardContainer, {\n    title: \"Blood Bank Staff Dashboard\",\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-lg text-gray-700 mb-6\",\n      children: [\"Welcome, Blood Bank Staff! Your User ID: \", /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"font-mono text-sm bg-gray-100 p-1 rounded\",\n        children: userId\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 90\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 7\n    }, this), actionStatus && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `mb-4 p-3 rounded-lg text-center font-semibold ${actionStatus.includes('Error') ? 'bg-red-100 text-red-800' : 'bg-green-100 text-green-800'}`,\n      children: actionStatus\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-8 p-6 border border-gray-200 rounded-xl shadow-md\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-2xl font-bold text-gray-900 mb-4\",\n        children: \"All Blood Requests\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this), requests.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600\",\n        children: \"No blood requests found.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overflow-x-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"min-w-full bg-white rounded-lg overflow-hidden shadow-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            className: \"bg-gray-100\",\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"py-2 px-4 text-left text-sm font-semibold text-gray-600\",\n                children: \"Request ID\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"py-2 px-4 text-left text-sm font-semibold text-gray-600\",\n                children: \"Hospital\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"py-2 px-4 text-left text-sm font-semibold text-gray-600\",\n                children: \"Doctor\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"py-2 px-4 text-left text-sm font-semibold text-gray-600\",\n                children: \"Blood Type\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"py-2 px-4 text-left text-sm font-semibold text-gray-600\",\n                children: \"Quantity\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"py-2 px-4 text-left text-sm font-semibold text-gray-600\",\n                children: \"Urgency\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"py-2 px-4 text-left text-sm font-semibold text-gray-600\",\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"py-2 px-4 text-left text-sm font-semibold text-gray-600\",\n                children: \"Actions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: requests.map(req => /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"border-b border-gray-200 last:border-b-0 hover:bg-gray-50\",\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"py-2 px-4 text-sm text-gray-800\",\n                children: req._id.slice(-6)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"py-2 px-4 text-sm text-gray-800\",\n                children: req.hospital ? `${req.hospital.firstName} (${req.hospital.email})` : 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"py-2 px-4 text-sm text-gray-800\",\n                children: req.doctor ? `${req.doctor.firstName} (${req.doctor.email})` : 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"py-2 px-4 text-sm text-gray-800\",\n                children: [req.bloodGroup, \" (\", req.componentType, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"py-2 px-4 text-sm text-gray-800\",\n                children: req.quantity\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"py-2 px-4 text-sm text-gray-800\",\n                children: req.urgency\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"py-2 px-4 text-sm text-gray-800\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `px-2 py-1 rounded-full text-xs font-semibold\n                        ${req.status === 'Pending' ? 'bg-yellow-100 text-yellow-800' : req.status === 'Approved' ? 'bg-blue-100 text-blue-800' : req.status === 'Fulfilled' ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}`,\n                  children: req.status\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 201,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"py-2 px-4 text-sm text-gray-800 space-x-2\",\n                children: [req.status === 'Pending' && /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleRequestStatusUpdate(req._id, 'Approved'),\n                    className: \"bg-blue-500 text-white px-3 py-1 rounded-full text-xs hover:bg-blue-600\",\n                    children: \"Approve\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 212,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleRequestStatusUpdate(req._id, 'Rejected'),\n                    className: \"bg-red-500 text-white px-3 py-1 rounded-full text-xs hover:bg-red-600\",\n                    children: \"Reject\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 213,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true), req.status === 'Approved' && /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setSelectedRequest(req),\n                  className: \"bg-green-500 text-white px-3 py-1 rounded-full text-xs hover:bg-green-600\",\n                  children: \"Fulfill\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 217,\n                  columnNumber: 25\n                }, this), ['Pending', 'Approved'].includes(req.status) && /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleRequestStatusUpdate(req._id, 'Cancelled'),\n                  className: \"bg-gray-500 text-white px-3 py-1 rounded-full text-xs hover:bg-gray-600\",\n                  children: \"Cancel\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 220,\n                  columnNumber: 26\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 21\n              }, this)]\n            }, req._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-6 border border-gray-200 rounded-xl shadow-md mt-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-2xl font-bold text-gray-900 mb-4\",\n        children: \"All Appointments\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this), appointments.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600\",\n        children: \"No appointments found.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overflow-x-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"min-w-full bg-white rounded-lg overflow-hidden shadow-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            className: \"bg-gray-100\",\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"py-2 px-4 text-left text-sm font-semibold text-gray-600\",\n                children: \"Donor\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"py-2 px-4 text-left text-sm font-semibold text-gray-600\",\n                children: \"Date & Time\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"py-2 px-4 text-left text-sm font-semibold text-gray-600\",\n                children: \"Blood Bank\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"py-2 px-4 text-left text-sm font-semibold text-gray-600\",\n                children: \"Blood Group\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 244,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"py-2 px-4 text-left text-sm font-semibold text-gray-600\",\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"py-2 px-4 text-left text-sm font-semibold text-gray-600\",\n                children: \"Actions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: appointments.map(app => {\n              var _app$bloodBank;\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: \"border-b border-gray-200 last:border-b-0 hover:bg-gray-50\",\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"py-2 px-4 text-sm text-gray-800\",\n                  children: app.donor ? `${app.donor.firstName} (${app.donor.email})` : 'N/A'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 252,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"py-2 px-4 text-sm text-gray-800\",\n                  children: new Date(app.appointmentDate).toLocaleString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 253,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"py-2 px-4 text-sm text-gray-800\",\n                  children: ((_app$bloodBank = app.bloodBank) === null || _app$bloodBank === void 0 ? void 0 : _app$bloodBank.name) || 'N/A'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 254,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"py-2 px-4 text-sm text-gray-800\",\n                  children: app.bloodGroup || 'Not specified'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 255,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"py-2 px-4 text-sm text-gray-800\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `px-2 py-1 rounded-full text-xs font-semibold\n                        ${app.status === 'Scheduled' ? 'bg-blue-100 text-blue-800' : app.status === 'Completed' ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}`,\n                    children: app.status\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 257,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 256,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"py-2 px-4 text-sm text-gray-800 space-x-2\",\n                  children: app.status === 'Scheduled' && /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => handleAppointmentStatusUpdate(app._id, 'Completed'),\n                      className: \"bg-green-500 text-white px-3 py-1 rounded-full text-xs hover:bg-green-600\",\n                      children: \"Mark Complete\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 267,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => handleAppointmentStatusUpdate(app._id, 'Cancelled'),\n                      className: \"bg-red-500 text-white px-3 py-1 rounded-full text-xs hover:bg-red-600\",\n                      children: \"Cancel\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 268,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 264,\n                  columnNumber: 21\n                }, this)]\n              }, app._id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 7\n    }, this), selectedRequest && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4 animate-fade-in\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl shadow-2xl p-6 max-w-md w-full relative transform scale-95 animate-scale-in\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setSelectedRequest(null),\n          className: \"absolute top-4 right-4 text-gray-600 hover:text-gray-900 text-3xl font-bold focus:outline-none\",\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-2xl font-bold text-gray-900 mb-4\",\n          children: [\"Fulfill Request (ID: \", selectedRequest._id.slice(-6), \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Requested:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 33\n          }, this), \" \", selectedRequest.bloodGroup, \" (\", selectedRequest.componentType, \") - \", selectedRequest.quantity, \" Units\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Hospital:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 33\n          }, this), \" \", (_selectedRequest$hosp = selectedRequest.hospital) === null || _selectedRequest$hosp === void 0 ? void 0 : _selectedRequest$hosp.email]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleFulfillRequest,\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"assignedUnitIds\",\n              className: \"block text-gray-700 text-sm font-bold mb-1\",\n              children: \"Assigned Blood Unit IDs (comma-separated)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              id: \"assignedUnitIds\",\n              name: \"assignedUnitIds\",\n              value: assignedUnitIds,\n              onChange: e => setAssignedUnitIds(e.target.value),\n              rows: \"3\",\n              className: \"shadow appearance-none border rounded-lg w-full py-2 px-3 text-gray-700\",\n              placeholder: \"e.g., 65c8a..., 65c8b...\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"w-full px-6 py-3 bg-green-600 text-white font-semibold rounded-full shadow-md hover:bg-green-700 transition-all duration-300\",\n            children: \"Fulfill Request\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 161,\n    columnNumber: 5\n  }, this);\n};\n_s(BloodBankStaffDashboard, \"/+9fqRBm1DSjxfw32XUxT+i1vUg=\");\n_c = BloodBankStaffDashboard;\nexport default BloodBankStaffDashboard;\nvar _c;\n$RefreshReg$(_c, \"BloodBankStaffDashboard\");","map":{"version":3,"names":["React","useState","useEffect","DashboardContainer","jsxDEV","_jsxDEV","Fragment","_Fragment","BloodBankStaffDashboard","userId","_s","_selectedRequest$hosp","requests","setRequests","appointments","setAppointments","loading","setLoading","error","setError","selectedRequest","setSelectedRequest","assignedUnitIds","setAssignedUnitIds","actionStatus","setActionStatus","fetchStaffData","token","localStorage","getItem","requestsResponse","fetch","headers","ok","errorData","json","Error","msg","requestsData","appointmentsResponse","appointmentsData","err","console","message","handleRequestStatusUpdate","requestId","newStatus","response","method","body","JSON","stringify","status","errData","setTimeout","handleFulfillRequest","e","preventDefault","unitIdsArray","split","map","id","trim","filter","_id","handleAppointmentStatusUpdate","appointmentId","title","children","className","fileName","_jsxFileName","lineNumber","columnNumber","includes","length","req","slice","hospital","firstName","email","doctor","bloodGroup","componentType","quantity","urgency","onClick","app","_app$bloodBank","donor","Date","appointmentDate","toLocaleString","bloodBank","name","onSubmit","htmlFor","value","onChange","target","rows","placeholder","required","type","_c","$RefreshReg$"],"sources":["C:/Users/HP/Desktop/Blood Bank/Frontend/src/dashboards/BloodBankStaffDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport DashboardContainer from '../components/DashboardContainer';\r\n\r\nconst BloodBankStaffDashboard = ({ userId }) => {\r\n  const [requests, setRequests] = useState([]); // Existing requests state\r\n  const [appointments, setAppointments] = useState([]); // New appointments state\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [selectedRequest, setSelectedRequest] = useState(null);\r\n  const [assignedUnitIds, setAssignedUnitIds] = useState('');\r\n  const [actionStatus, setActionStatus] = useState(''); // For request/appointment actions\r\n\r\n  const fetchStaffData = async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n    const token = localStorage.getItem('token');\r\n    if (!token) {\r\n      setError('Authentication token missing. Please log in.');\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // Fetch all Blood Requests\r\n      const requestsResponse = await fetch('http://localhost:5000/api/blood-requests', {\r\n        headers: { 'x-auth-token': token }\r\n      });\r\n      if (!requestsResponse.ok) {\r\n        const errorData = await requestsResponse.json();\r\n        throw new Error(errorData.msg || 'Failed to fetch blood requests');\r\n      }\r\n      const requestsData = await requestsResponse.json();\r\n      setRequests(requestsData);\r\n\r\n      // Fetch all Appointments\r\n      const appointmentsResponse = await fetch('http://localhost:5000/api/appointments', {\r\n        headers: { 'x-auth-token': token }\r\n      });\r\n      if (!appointmentsResponse.ok) {\r\n        const errorData = await appointmentsResponse.json();\r\n        throw new Error(errorData.msg || 'Failed to fetch appointments');\r\n      }\r\n      const appointmentsData = await appointmentsResponse.json();\r\n      setAppointments(appointmentsData);\r\n\r\n    } catch (err) {\r\n      console.error('Error fetching staff data:', err);\r\n      setError(err.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchStaffData();\r\n  }, [userId]);\r\n\r\n  const handleRequestStatusUpdate = async (requestId, newStatus) => {\r\n    setActionStatus('Updating request status...');\r\n    const token = localStorage.getItem('token');\r\n\r\n    try {\r\n      const response = await fetch(`http://localhost:5000/api/blood-requests/${requestId}/status`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'x-auth-token': token\r\n        },\r\n        body: JSON.stringify({ status: newStatus })\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errData = await response.json();\r\n        throw new Error(errData.msg || 'Failed to update request status');\r\n      }\r\n\r\n      setActionStatus(`Request status updated to ${newStatus}!`);\r\n      fetchStaffData(); // Re-fetch all data to update lists\r\n    } catch (err) {\r\n      console.error('Error updating request status:', err);\r\n      setActionStatus(`Error: ${err.message}`);\r\n    } finally {\r\n      setTimeout(() => setActionStatus(''), 3000);\r\n    }\r\n  };\r\n\r\n  const handleFulfillRequest = async (e) => {\r\n    e.preventDefault();\r\n    setActionStatus('Fulfilling request...');\r\n    const token = localStorage.getItem('token');\r\n\r\n    if (!selectedRequest || !assignedUnitIds) {\r\n      setActionStatus('Error: Please select a request and provide unit IDs.');\r\n      setTimeout(() => setActionStatus(''), 3000);\r\n      return;\r\n    }\r\n\r\n    const unitIdsArray = assignedUnitIds.split(',').map(id => id.trim()).filter(id => id);\r\n\r\n    try {\r\n      const response = await fetch(`http://localhost:5000/api/blood-requests/${selectedRequest._id}/fulfill`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'x-auth-token': token\r\n        },\r\n        body: JSON.stringify({ assignedUnitIds: unitIdsArray })\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errData = await response.json();\r\n        throw new Error(errData.msg || 'Failed to fulfill request');\r\n      }\r\n\r\n      setActionStatus('Request fulfilled successfully!');\r\n      setSelectedRequest(null); // Close modal\r\n      setAssignedUnitIds(''); // Clear input\r\n      fetchStaffData(); // Re-fetch all data\r\n    } catch (err) {\r\n      console.error('Error fulfilling request:', err);\r\n      setActionStatus(`Error: ${err.message}`);\r\n    } finally {\r\n      setTimeout(() => setActionStatus(''), 3000);\r\n    }\r\n  };\r\n\r\n  const handleAppointmentStatusUpdate = async (appointmentId, newStatus) => {\r\n    setActionStatus('Updating appointment status...');\r\n    const token = localStorage.getItem('token');\r\n\r\n    try {\r\n      const response = await fetch(`http://localhost:5000/api/appointments/${appointmentId}/status`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'x-auth-token': token\r\n        },\r\n        body: JSON.stringify({ status: newStatus })\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errData = await response.json();\r\n        throw new Error(errData.msg || 'Failed to update appointment status');\r\n      }\r\n\r\n      setActionStatus(`Appointment status updated to ${newStatus}!`);\r\n      fetchStaffData(); // Re-fetch all data to update lists\r\n    } catch (err) {\r\n      console.error('Error updating appointment status:', err);\r\n      setActionStatus(`Error: ${err.message}`);\r\n    } finally {\r\n      setTimeout(() => setActionStatus(''), 3000);\r\n    }\r\n  };\r\n\r\n\r\n  if (loading) return <DashboardContainer title=\"Blood Bank Staff Dashboard\"><p className=\"text-center\">Loading staff data...</p></DashboardContainer>;\r\n  if (error) return <DashboardContainer title=\"Blood Bank Staff Dashboard\"><p className=\"text-center text-red-500\">Error: {error}</p></DashboardContainer>;\r\n\r\n  return (\r\n    <DashboardContainer title=\"Blood Bank Staff Dashboard\">\r\n      <p className=\"text-lg text-gray-700 mb-6\">Welcome, Blood Bank Staff! Your User ID: <span className=\"font-mono text-sm bg-gray-100 p-1 rounded\">{userId}</span></p>\r\n\r\n      {/* Action Status Message */}\r\n      {actionStatus && (\r\n        <div className={`mb-4 p-3 rounded-lg text-center font-semibold ${actionStatus.includes('Error') ? 'bg-red-100 text-red-800' : 'bg-green-100 text-green-800'}`}>\r\n          {actionStatus}\r\n        </div>\r\n      )}\r\n\r\n      {/* All Blood Requests List */}\r\n      <div className=\"mb-8 p-6 border border-gray-200 rounded-xl shadow-md\">\r\n        <h3 className=\"text-2xl font-bold text-gray-900 mb-4\">All Blood Requests</h3>\r\n        {requests.length === 0 ? (\r\n          <p className=\"text-gray-600\">No blood requests found.</p>\r\n        ) : (\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"min-w-full bg-white rounded-lg overflow-hidden shadow-sm\">\r\n              <thead className=\"bg-gray-100\">\r\n                <tr>\r\n                  <th className=\"py-2 px-4 text-left text-sm font-semibold text-gray-600\">Request ID</th>\r\n                  <th className=\"py-2 px-4 text-left text-sm font-semibold text-gray-600\">Hospital</th>\r\n                  <th className=\"py-2 px-4 text-left text-sm font-semibold text-gray-600\">Doctor</th>\r\n                  <th className=\"py-2 px-4 text-left text-sm font-semibold text-gray-600\">Blood Type</th>\r\n                  <th className=\"py-2 px-4 text-left text-sm font-semibold text-gray-600\">Quantity</th>\r\n                  <th className=\"py-2 px-4 text-left text-sm font-semibold text-gray-600\">Urgency</th>\r\n                  <th className=\"py-2 px-4 text-left text-sm font-semibold text-gray-600\">Status</th>\r\n                  <th className=\"py-2 px-4 text-left text-sm font-semibold text-gray-600\">Actions</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {requests.map(req => (\r\n                  <tr key={req._id} className=\"border-b border-gray-200 last:border-b-0 hover:bg-gray-50\">\r\n                    <td className=\"py-2 px-4 text-sm text-gray-800\">{req._id.slice(-6)}</td>\r\n                    <td className=\"py-2 px-4 text-sm text-gray-800\">{req.hospital ? `${req.hospital.firstName} (${req.hospital.email})` : 'N/A'}</td>\r\n                    <td className=\"py-2 px-4 text-sm text-gray-800\">{req.doctor ? `${req.doctor.firstName} (${req.doctor.email})` : 'N/A'}</td>\r\n                    <td className=\"py-2 px-4 text-sm text-gray-800\">{req.bloodGroup} ({req.componentType})</td>\r\n                    <td className=\"py-2 px-4 text-sm text-gray-800\">{req.quantity}</td>\r\n                    <td className=\"py-2 px-4 text-sm text-gray-800\">{req.urgency}</td>\r\n                    <td className=\"py-2 px-4 text-sm text-gray-800\">\r\n                      <span className={`px-2 py-1 rounded-full text-xs font-semibold\r\n                        ${req.status === 'Pending' ? 'bg-yellow-100 text-yellow-800' :\r\n                          req.status === 'Approved' ? 'bg-blue-100 text-blue-800' :\r\n                          req.status === 'Fulfilled' ? 'bg-green-100 text-green-800' :\r\n                          'bg-red-100 text-red-800'}`}>\r\n                        {req.status}\r\n                      </span>\r\n                    </td>\r\n                    <td className=\"py-2 px-4 text-sm text-gray-800 space-x-2\">\r\n                      {req.status === 'Pending' && (\r\n                        <>\r\n                          <button onClick={() => handleRequestStatusUpdate(req._id, 'Approved')} className=\"bg-blue-500 text-white px-3 py-1 rounded-full text-xs hover:bg-blue-600\">Approve</button>\r\n                          <button onClick={() => handleRequestStatusUpdate(req._id, 'Rejected')} className=\"bg-red-500 text-white px-3 py-1 rounded-full text-xs hover:bg-red-600\">Reject</button>\r\n                        </>\r\n                      )}\r\n                      {req.status === 'Approved' && (\r\n                        <button onClick={() => setSelectedRequest(req)} className=\"bg-green-500 text-white px-3 py-1 rounded-full text-xs hover:bg-green-600\">Fulfill</button>\r\n                      )}\r\n                      {['Pending', 'Approved'].includes(req.status) && (\r\n                         <button onClick={() => handleRequestStatusUpdate(req._id, 'Cancelled')} className=\"bg-gray-500 text-white px-3 py-1 rounded-full text-xs hover:bg-gray-600\">Cancel</button>\r\n                      )}\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* All Appointments List */}\r\n      <div className=\"p-6 border border-gray-200 rounded-xl shadow-md mt-8\">\r\n        <h3 className=\"text-2xl font-bold text-gray-900 mb-4\">All Appointments</h3>\r\n        {appointments.length === 0 ? (\r\n          <p className=\"text-gray-600\">No appointments found.</p>\r\n        ) : (\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"min-w-full bg-white rounded-lg overflow-hidden shadow-sm\">\r\n              <thead className=\"bg-gray-100\">\r\n                <tr>\r\n                  <th className=\"py-2 px-4 text-left text-sm font-semibold text-gray-600\">Donor</th>\r\n                  <th className=\"py-2 px-4 text-left text-sm font-semibold text-gray-600\">Date & Time</th>\r\n                  <th className=\"py-2 px-4 text-left text-sm font-semibold text-gray-600\">Blood Bank</th>\r\n                  <th className=\"py-2 px-4 text-left text-sm font-semibold text-gray-600\">Blood Group</th>\r\n                  <th className=\"py-2 px-4 text-left text-sm font-semibold text-gray-600\">Status</th>\r\n                  <th className=\"py-2 px-4 text-left text-sm font-semibold text-gray-600\">Actions</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {appointments.map(app => (\r\n                  <tr key={app._id} className=\"border-b border-gray-200 last:border-b-0 hover:bg-gray-50\">\r\n                    <td className=\"py-2 px-4 text-sm text-gray-800\">{app.donor ? `${app.donor.firstName} (${app.donor.email})` : 'N/A'}</td>\r\n                    <td className=\"py-2 px-4 text-sm text-gray-800\">{new Date(app.appointmentDate).toLocaleString()}</td>\r\n                    <td className=\"py-2 px-4 text-sm text-gray-800\">{app.bloodBank?.name || 'N/A'}</td>\r\n                    <td className=\"py-2 px-4 text-sm text-gray-800\">{app.bloodGroup || 'Not specified'}</td>\r\n                    <td className=\"py-2 px-4 text-sm text-gray-800\">\r\n                      <span className={`px-2 py-1 rounded-full text-xs font-semibold\r\n                        ${app.status === 'Scheduled' ? 'bg-blue-100 text-blue-800' :\r\n                          app.status === 'Completed' ? 'bg-green-100 text-green-800' :\r\n                          'bg-red-100 text-red-800'}`}>\r\n                        {app.status}\r\n                      </span>\r\n                    </td>\r\n                    <td className=\"py-2 px-4 text-sm text-gray-800 space-x-2\">\r\n                      {app.status === 'Scheduled' && (\r\n                        <>\r\n                          <button onClick={() => handleAppointmentStatusUpdate(app._id, 'Completed')} className=\"bg-green-500 text-white px-3 py-1 rounded-full text-xs hover:bg-green-600\">Mark Complete</button>\r\n                          <button onClick={() => handleAppointmentStatusUpdate(app._id, 'Cancelled')} className=\"bg-red-500 text-white px-3 py-1 rounded-full text-xs hover:bg-red-600\">Cancel</button>\r\n                        </>\r\n                      )}\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Fulfill Request Modal (same as AdminDashboard) */}\r\n      {selectedRequest && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4 animate-fade-in\">\r\n          <div className=\"bg-white rounded-xl shadow-2xl p-6 max-w-md w-full relative transform scale-95 animate-scale-in\">\r\n            <button\r\n              onClick={() => setSelectedRequest(null)}\r\n              className=\"absolute top-4 right-4 text-gray-600 hover:text-gray-900 text-3xl font-bold focus:outline-none\"\r\n            >\r\n              &times;\r\n            </button>\r\n            <h3 className=\"text-2xl font-bold text-gray-900 mb-4\">Fulfill Request (ID: {selectedRequest._id.slice(-6)})</h3>\r\n            <p className=\"mb-2\"><strong>Requested:</strong> {selectedRequest.bloodGroup} ({selectedRequest.componentType}) - {selectedRequest.quantity} Units</p>\r\n            <p className=\"mb-4\"><strong>Hospital:</strong> {selectedRequest.hospital?.email}</p>\r\n\r\n            <form onSubmit={handleFulfillRequest} className=\"space-y-4\">\r\n              <div>\r\n                <label htmlFor=\"assignedUnitIds\" className=\"block text-gray-700 text-sm font-bold mb-1\">Assigned Blood Unit IDs (comma-separated)</label>\r\n                <textarea\r\n                  id=\"assignedUnitIds\"\r\n                  name=\"assignedUnitIds\"\r\n                  value={assignedUnitIds}\r\n                  onChange={(e) => setAssignedUnitIds(e.target.value)}\r\n                  rows=\"3\"\r\n                  className=\"shadow appearance-none border rounded-lg w-full py-2 px-3 text-gray-700\"\r\n                  placeholder=\"e.g., 65c8a..., 65c8b...\"\r\n                  required\r\n                ></textarea>\r\n              </div>\r\n              <button type=\"submit\" className=\"w-full px-6 py-3 bg-green-600 text-white font-semibold rounded-full shadow-md hover:bg-green-700 transition-all duration-300\">Fulfill Request</button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </DashboardContainer>\r\n  );\r\n};\r\n\r\nexport default BloodBankStaffDashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}